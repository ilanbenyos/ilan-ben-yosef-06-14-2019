{"version":3,"sources":["store/reducers.js","store/store.js","store/middleware.js","compenents/cityRes.js","store/actions.js","compenents/views/home.js","compenents/views/about.js","compenents/views/favorites.js","app/App.js","index.js"],"names":["initialState","favorites","articles","userName","board","score","rootReducer","state","arguments","length","undefined","action","type","Object","objectSpread","payload","localStorage","setItem","JSON","stringify","storeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","_ref3","dispatch","next","getItem","parse","find","i","id","set","Set","add","toConsumableArray","_ref","_ref2","getState","idx","findIndex","splice","thunk","CityRes","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleClick","_this$props$searchRes","searchRes","city","name","isFavorite","removeFromFavorites","addToFavorites","arr","list","map","item","itemDate","Date","dt","time","concat","getHours","slice","getMinutes","dayOfWeek","getDay","month","getMonth","date","getDate","temp","Math","floor","main","description","weather","isFirstOfDate","react_default","a","createElement","className","items","computedData","key","onClick","React","Component","initFavorites","ConnectedHome","setState","search","submitSearch","asyncToGenerator","regenerator_default","mark","_callee","q","str","wrap","_context","prev","pushSearch","stop","submitSearchLocation","_callee3","_context3","navigator","geolocation","getCurrentPosition","_ref4","_callee2","position","lat","lon","_context2","coords","latitude","longitude","_x","apply","handleChange","e","target","value","queryString","location","res","test","console","log","_this2","apiPath","axios","get","data","history","push","pathname","isValid","onChange","cityRes","Home","connect","favorite","About","ConnectedFavorites","favoritesObj","multiP","abrupt","Promise","all","pushToCity","getItems","Favorites","App","react_router_dom","to","react_router","exact","path","render","routeProps","home","component","es","src_app_App","document","getElementById"],"mappings":"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","file":"static/js/main.182ab5cf.chunk.js","sourcesContent":["const initialState = {\r\n  favorites: [],\r\n  articles: [],\r\n  userName:'',\r\n  board:null,\r\n  score:0,\r\n};\r\nfunction rootReducer(state = initialState, action) {\r\n  if (action.type === 'INIT_FAVORITES') {\r\n    return {...state, favorites: action.payload}\r\n  }\r\n  if (action.type === 'SAVE_FAVORITES') {\r\n    localStorage.setItem('favorites', JSON.stringify(action.payload));\r\n    return {...state, favorites: action.payload}\r\n  }\r\n    return state;\r\n}\r\nexport default rootReducer;\r\n","import { createStore, applyMiddleware, compose , combineReducers } from \"redux\";\r\nimport rootReducer from \"./reducers\";\r\nimport {saveFavorite, initFavorites, removeFromFavorites } from \"./middleware\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst storeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    storeEnhancers(applyMiddleware(\r\n      saveFavorite,\r\n      initFavorites,\r\n      removeFromFavorites,\r\n      thunk\r\n    ))\r\n);\r\nexport default store;\r\n","\r\nexport const initFavorites = ({ dispatch }) => next => action => {\r\n  if(action.type === 'initFavorites') {\r\n    let favorites = localStorage.getItem('favorites')\r\n    favorites = favorites ? JSON.parse(favorites) : [];\r\n    return dispatch({type: \"INIT_FAVORITES\", payload: favorites});\r\n  }\r\n  next(action);\r\n}\r\nexport const removeFromFavorites = ({ dispatch , getState }) => next => action => {\r\n  if(action.type === 'removeFromFavorites') {\r\n    let favorites = getState().favorites;\r\n    let idx = favorites.findIndex(i=> i.id === action.payload.id);\r\n    if(idx >-1){\r\n      favorites.splice(idx,1);\r\n      return dispatch({type: \"SAVE_FAVORITES\", payload: favorites});\r\n    }\r\n  }\r\n  next(action);\r\n};\r\n\r\nexport function saveFavorite({ dispatch }) {\r\n    return function(next) {\r\n        return function(action) {\r\n            if (action.type === 'addToFavorites') {\r\n              let favorites = localStorage.getItem('favorites')\r\n              favorites = favorites ? JSON.parse(favorites) : [];\r\n              if (!favorites.find(i => i.id === action.payload.id)) {\r\n                let set = new Set(favorites);\r\n                set.add(action.payload);\r\n                favorites = [...set];\r\n                // localStorage.setItem('favorites', JSON.stringify(favorites));\r\n                return dispatch({type: \"SAVE_FAVORITES\", payload: favorites});\r\n              }\r\n            }\r\n            return next(action);\r\n        };\r\n    };\r\n}\r\n","import React from 'react';\r\n\r\nclass CityRes extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n  }\r\n  computedData(){\r\n    const searchRes = this.props.searchRes;\r\n    let arr = searchRes.list.map((item,idx)=>{\r\n      const itemDate = new Date(item.dt * 1000)\r\n      const time = `${('0' + itemDate.getHours()).slice(-2)}:${ ('0' + itemDate.getMinutes()).slice(-2)}`\r\n      const weekday = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n      const dayOfWeek = weekday[itemDate.getDay()];\r\n      const month = itemDate.getMonth()\r\n      const date = `${itemDate.getDate()}/${month}`;\r\n      return{\r\n        temp:`${Math.floor(item.main.temp - 273)} C`,\r\n        time,\r\n        dayOfWeek,\r\n        month,\r\n        date,\r\n        description :item.weather[0].description\r\n      }\r\n\r\n    })\r\n    arr = arr.map((item,idx)=>{\r\n      let isFirstOfDate =(idx === 0)? true: (arr[idx-1].dayOfWeek !== item.dayOfWeek);\r\n      return {...item,isFirstOfDate};\r\n    })\r\n    return arr\r\n  }\r\n  handleClick=()=> {\r\n    const {name, id} = this.props.searchRes.city;\r\n    if(this.props.isFavorite){\r\n      this.props.removeFromFavorites({id});\r\n    }else{\r\n      this.props.addToFavorites({name, id});\r\n    }\r\n  };\r\n  render() {\r\n    const searchRes = this.props.searchRes\r\n      if(!searchRes) return <div className=\"city-name\">NO DATA</div>\r\n    const computedData = this.computedData()\r\n    const items = computedData.map((item,idx) =>{\r\n      return (\r\n          <div key={idx} className=\"item d-flex flex-column\">\r\n            {item.isFirstOfDate ?\r\n                <h4 className=\"upper mt-2 text-primary\"> {item.date} - {item.dayOfWeek} </h4>: null\r\n            }\r\n            <div className=\"bottom d-flex\">\r\n            <div className=\"dt mr-2\"> {item.time} </div>\r\n            < div className=\"temp mr-2\"> {item.temp} </div>\r\n            <div className=\"desc mr-2\">\r\n              {item.description}\r\n            </div>\r\n            </div>\r\n          </div>\r\n        )\r\n    });\r\n\r\n    return (\r\n      <div className=\"city-res mt-3\">\r\n        <h3 className=\"city-name text-center\">\r\n          {searchRes.city.name}\r\n        </h3>\r\n          {this.props.isFavorite?\r\n            (<div className=\"d-flex justify-content-between align-center\">\r\n              <button className=\"btn btn-outline-info d-flex align-center\"\r\n              onClick={this.handleClick}\r\n              > Remove from favorites\r\n                <i className=\"material-icons text-danger ml-3\"> favorite </i>\r\n              </button>\r\n            </div>)\r\n            :\r\n            (<div className=\"d-flex justify-content-between\">\r\n              <button\r\n                onClick={this.handleClick}\r\n                className=\"btn btn-outline-info d-flex align-center\"> Add to favorites\r\n                <i className=\"material-icons text-danger ml-3\"> favorite </i>\r\n              </button>\r\n\r\n            </div>)\r\n          }\r\n        {items}\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default CityRes\r\n\r\n","\r\nexport function initFavorites(payload) {\r\n    return { type: 'initFavorites', payload };\r\n}\r\n\r\nexport function removeFromFavorites(payload) {\r\n    return { type: 'removeFromFavorites', payload };\r\n}\r\nexport function addToFavorites(payload) {\r\n    return { type: 'addToFavorites', payload };\r\n}\r\n\r\n","import React from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport axios from \"axios\"\r\nimport CityRes from \"../cityRes\"\r\nimport {addToFavorites , initFavorites, removeFromFavorites} from \"../../store/actions\";\r\nimport queryString from \"query-string\";\r\n\r\nconst mapStateToProps = state => {\r\n    return { favorites: state.favorites };\r\n};\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    initFavorites: () => dispatch(initFavorites()),\r\n    removeFromFavorites: id => dispatch(removeFromFavorites(id)),\r\n    addToFavorites: favorite => dispatch(addToFavorites(favorite)),\r\n  };\r\n}\r\n\r\nclass ConnectedHome extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          search:queryString.parse(this.props.location.search).city || 'tel aviv',\r\n          searchRes:null,\r\n        };\r\n    }\r\n    isValid(){\r\n      const regExpression = /^[a-zA-Z\\s]*$/;\r\n      let res = regExpression.test(this.state.search)\r\n      console.log(res);\r\n      return res\r\n    }\r\n  removeFromFavorites=(id)=> {\r\n    this.props.removeFromFavorites(id);\r\n    this.setState({\r\n      search: \"\",\r\n    });\r\n  };\r\n    addToFavorites=({name, id})=> {\r\n    this.props.addToFavorites({name, id});\r\n    this.setState({\r\n      search: \"\",\r\n    });\r\n  };\r\n    isFavorite(){\r\n      if(!this.state.searchRes) return false;\r\n      let res = this.props.favorites.find(i=> {\r\n        return i.id === this.state.searchRes.city.id\r\n      });\r\n      return !!res;\r\n    }\r\n  componentDidMount() {\r\n    this.props.initFavorites();\r\n    this.submitSearch()\r\n  }\r\n  submitSearch= async ()=>{\r\n    const q = this.state.search;\r\n    const str = `?q=${q}`;\r\n    this.pushSearch(str)\r\n\r\n\r\n  };\r\n  async pushSearch(str){\r\n    const APPID ='e4063054bda92f3ca54619eb59a22adf';\r\n    const basePath = 'https://api.openweathermap.org/data/2.5/forecast';\r\n    const apiPath = `${basePath}${str}&APPID=${APPID}`;\r\n    let res  = await axios.get(apiPath);\r\n    this.setState({ searchRes:res.data });\r\n    this.props.history.push({\r\n      pathname: '/',\r\n      search: `?city=${this.state.searchRes.city.name}`,\r\n    })\r\n    this.setState({ search:this.state.searchRes.city.name });\r\n\r\n  }\r\n  submitSearchLocation= async ()=>{\r\n    navigator.geolocation.getCurrentPosition(\r\n      async(position)=>{\r\n        const lat = position.coords.latitude;\r\n        const lon = position.coords.longitude;\r\n        const str = `?lat=${lat}&lon=${lon}`;\r\n       this.pushSearch(str)\r\n      }\r\n    );\r\n  };\r\n    handleChange=(e)=> {\r\n      this.setState({ search: e.target.value });\r\n    };\r\n    render() {\r\n        return(\r\n            <div className=\"row mt-5 pb-5\">\r\n                <div className=\"col-12 col-md-6 col-lg-4\">\r\n                    <input\r\n                      type=\"text\"\r\n                      className={`form-control ${this.isValid()?'':'is-invalid'}`}\r\n                      value={this.state.search}\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  <div className=\"invalid-wrapper\">\r\n                      <div className={`invalid-feedback ${this.isValid()?'':'d-block'}`} >\r\n                        English letters only\r\n                      </div>\r\n                  </div>\r\n                  <div className=\"panel mt-2  d-flex \">\r\n                    <button className=\"btn btn-success mr-2\" onClick={this.submitSearch}>\r\n                      Search\r\n                    </button>\r\n                    <button className=\"btn btn-primary d-flex align-center\" onClick={this.submitSearchLocation}>\r\n                      Search By Location\r\n                      <i className=\"material-icons text-danger ml-3\"> location_on </i>\r\n\r\n                    </button>\r\n                  </div>\r\n                  <div className=\"result\" >\r\n                    <CityRes searchRes={this.state.searchRes}\r\n                             removeFromFavorites={this.removeFromFavorites}\r\n                             addToFavorites={this.addToFavorites}\r\n                             isFavorite={this.isFavorite()}/>\r\n                  </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst Home = connect(mapStateToProps,mapDispatchToProps)(ConnectedHome);\r\n\r\nexport default Home\r\n","import React from 'react'\r\nclass About extends React.Component {\r\n    render() {\r\n        return (\r\n          <div className=\"about\">\r\n          <h1>About</h1>\r\n            <p> Here will come the about page and other stuff</p>\r\n          </div>\r\n        )\r\n    }\r\n}\r\nexport default About\r\n","import React from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport {initFavorites} from \"../../store/actions\";\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return { favorites: state.favorites };\r\n};\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    initFavorites: () => dispatch(initFavorites()),\r\n  };\r\n}\r\n\r\nclass ConnectedFavorites extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n          favoritesObj: null,\r\n        };\r\n    }\r\n    async componentDidMount() {\r\n      await this.props.initFavorites();\r\n      const APPID ='e4063054bda92f3ca54619eb59a22adf';\r\n      const basePath = 'https://api.openweathermap.org/data/2.5/weather';\r\n\r\n      let multiP = this.props.favorites.map(async i=> {\r\n        const str = `${basePath}?id=${i.id}&APPID=${APPID}`;\r\n        return  axios.get(str);\r\n      });\r\n      let res = await Promise.all(multiP);\r\n      const favoritesObj = res.map(i=> i.data)\r\n      this.setState({ favoritesObj });\r\n\r\n    }\r\n    pushToCity(name){\r\n      this.props.history.push({\r\n        pathname: '/',\r\n        search: `?city=${name}`,\r\n      })\r\n    }\r\n    getItems(){\r\n      const favoritesObj = this.state.favoritesObj;\r\n      if(!favoritesObj)return [];\r\n      return favoritesObj.map((item,idx) => {\r\n        return (\r\n          <div key={idx}\r\n               className=\"list-group-item list-group-item-action rol-btn\"\r\n               onClick={()=>this.pushToCity(item.name)}>\r\n            <h5 className=\"name mr-2 text-center text-success\">{item.name}</h5>\r\n            <div className=\"bottom d-flex justify-content-between align-center\">\r\n              <div className=\"temp\">{Math.floor(item.main.temp - 273)} C</div>\r\n              <div className=\"description mr-2\">{item.weather[0].description}</div>\r\n            </div>\r\n          </div>);\r\n      })\r\n    }\r\n    render() {\r\n        return (\r\n        <div>\r\n          <h3 className=\"my-favorites text-primary mb-3\">My Favorites</h3>\r\n          <div className=\"list-group\">\r\n            {this.getItems()}\r\n          </div>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst Favorites = connect(mapStateToProps, mapDispatchToProps)(ConnectedFavorites);\r\n\r\nexport default Favorites\r\n","import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\r\n\r\nimport Home from '../compenents/views/home';\r\nimport About from '../compenents/views/about';\r\nimport Favorites from '../compenents/views/favorites';\r\nimport './App.scss';\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        };\r\n    }\r\n    render() {\r\n        return (\r\n            <Router>\r\n                <div className=\"container\">\r\n                  <h2>Herolo Test</h2>\r\n                  <div className=\"navbar-nav mr-auto d-flex flex-row\">\r\n                        <Link to={'/'} className=\"nav-link mr-2\">Home</Link>\r\n\r\n                        <Link to={\r\n                            { pathname: `/favorites`}\r\n                        } className=\"nav-link mr-2\">Favorites</Link>\r\n\r\n                        <Link to={'/about'} className=\"nav-link\">About</Link>\r\n                    </div>\r\n                    <hr />\r\n                    <Switch>\r\n                        <Route exact path='/' render={(routeProps) => (\r\n                            <Home {...routeProps}/>\r\n                        )}/>\r\n                        <Route\r\n                          path={`/favorites/`} component={Favorites} />\r\n                        <Route path={`/about`} component={About} />\r\n                    </Switch>\r\n                </div>\r\n            </Router>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","\nimport React from \"react\";\nimport { render } from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store/store\";\nimport App from './app/App';\n\nrender(\n    <Provider store={store}>\n     <App />\n    </Provider>\n    , document.getElementById('app')\n);\n"],"sourceRoot":""}